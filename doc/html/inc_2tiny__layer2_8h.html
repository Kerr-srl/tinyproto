<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Tiny protocol: inc/tiny_layer2.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tiny protocol
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">Tiny communication protocol for microcontrollers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bfccd401955b95cf8c75461437045ac0.html">inc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tiny_layer2.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Tiny protocol API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;tiny_defines.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for tiny_layer2.h:</div>
<div class="dyncontent">
<div class="center"><img src="inc_2tiny__layer2_8h__incl.png" border="0" usemap="#inc_2tiny__layer2_8h" alt=""/></div>
<map name="inc_2tiny__layer2_8h" id="inc_2tiny__layer2_8h">
<area shape="rect" id="node3" href="tiny__defines_8h_source.html" title="tiny_defines.h" alt="" coords="95,80,197,107"/><area shape="rect" id="node4" href="tiny__config_8h_source.html" title="tiny_config.h" alt="" coords="98,155,194,181"/></map>
</div>
</div>
<p><a href="inc_2tiny__layer2_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSTinyStats.html">STinyStats</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSTinyRxStatus.html">STinyRxStatus</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSTinyTxStatus.html">STinyTxStatus</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSTinyData.html">STinyData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga16cd043c890ed1fa381b3a20f75a626c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga16cd043c890ed1fa381b3a20f75a626c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ERROR__FLAGS.html#ga16cd043c890ed1fa381b3a20f75a626c">TINY_SUCCESS</a>&#160;&#160;&#160;(1)</td></tr>
<tr class="memdesc:ga16cd043c890ed1fa381b3a20f75a626c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tiny operation successful. Only tiny_send_start and tiny_read_start functions return this code. <br /></td></tr>
<tr class="separator:ga16cd043c890ed1fa381b3a20f75a626c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga69c869a686b67bf0b7b8115599515d61"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga69c869a686b67bf0b7b8115599515d61"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ERROR__FLAGS.html#ga69c869a686b67bf0b7b8115599515d61">TINY_NO_ERROR</a>&#160;&#160;&#160;(0)</td></tr>
<tr class="memdesc:ga69c869a686b67bf0b7b8115599515d61"><td class="mdescLeft">&#160;</td><td class="mdescRight">No error. For tiny_send and tiny_read functions, this means, no data sent or received. <br /></td></tr>
<tr class="separator:ga69c869a686b67bf0b7b8115599515d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga84e6ca143550038e1a71cf36078d1926"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga84e6ca143550038e1a71cf36078d1926"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ERROR__FLAGS.html#ga84e6ca143550038e1a71cf36078d1926">TINY_ERR_FAILED</a>&#160;&#160;&#160;(-1)</td></tr>
<tr class="memdesc:ga84e6ca143550038e1a71cf36078d1926"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timeout. <br /></td></tr>
<tr class="separator:ga84e6ca143550038e1a71cf36078d1926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac9ba8076a1eb8613e8d1f07629ff0cd1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac9ba8076a1eb8613e8d1f07629ff0cd1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ERROR__FLAGS.html#gac9ba8076a1eb8613e8d1f07629ff0cd1">TINY_ERR_TIMEOUT</a>&#160;&#160;&#160;(-2)</td></tr>
<tr class="memdesc:gac9ba8076a1eb8613e8d1f07629ff0cd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timeout happened. The function must be called once again. <br /></td></tr>
<tr class="separator:gac9ba8076a1eb8613e8d1f07629ff0cd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7bbe7440d11ad304b0af68e011f4eab7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7bbe7440d11ad304b0af68e011f4eab7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ERROR__FLAGS.html#ga7bbe7440d11ad304b0af68e011f4eab7">TINY_ERR_DATA_TOO_LARGE</a>&#160;&#160;&#160;(-3)</td></tr>
<tr class="memdesc:ga7bbe7440d11ad304b0af68e011f4eab7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data too large to fit the user buffer, valid for tiny_read function. <br /></td></tr>
<tr class="separator:ga7bbe7440d11ad304b0af68e011f4eab7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga541a9e67a84e39595ad647d641c4df2e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga541a9e67a84e39595ad647d641c4df2e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ERROR__FLAGS.html#ga541a9e67a84e39595ad647d641c4df2e">TINY_ERR_INVALID_DATA</a>&#160;&#160;&#160;(-4)</td></tr>
<tr class="memdesc:ga541a9e67a84e39595ad647d641c4df2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Some invalid data passed to Tiny API function. <br /></td></tr>
<tr class="separator:ga541a9e67a84e39595ad647d641c4df2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b3e170e1c6ce269f216ef4a1ac61995"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9b3e170e1c6ce269f216ef4a1ac61995"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ERROR__FLAGS.html#ga9b3e170e1c6ce269f216ef4a1ac61995">TINY_ERR_BUSY</a>&#160;&#160;&#160;(-5)</td></tr>
<tr class="memdesc:ga9b3e170e1c6ce269f216ef4a1ac61995"><td class="mdescLeft">&#160;</td><td class="mdescRight">API function detected that operation cannot be performed right now. <br /></td></tr>
<tr class="separator:ga9b3e170e1c6ce269f216ef4a1ac61995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1949de45d9c478830dad9c9b996193a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae1949de45d9c478830dad9c9b996193a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ERROR__FLAGS.html#gae1949de45d9c478830dad9c9b996193a">TINY_ERR_OUT_OF_SYNC</a>&#160;&#160;&#160;(-6)</td></tr>
<tr class="memdesc:gae1949de45d9c478830dad9c9b996193a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Out of sync - received some data, which are not part of the frame (tiny_read) <br /></td></tr>
<tr class="separator:gae1949de45d9c478830dad9c9b996193a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadadd60eb21d7949e6d097ad36aab9b2e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gadadd60eb21d7949e6d097ad36aab9b2e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FLAGS__GROUP.html#gadadd60eb21d7949e6d097ad36aab9b2e">TINY_FLAG_NO_WAIT</a>&#160;&#160;&#160;(0)</td></tr>
<tr class="memdesc:gadadd60eb21d7949e6d097ad36aab9b2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This flag makes tiny API functions perform as non-blocking. <br /></td></tr>
<tr class="separator:gadadd60eb21d7949e6d097ad36aab9b2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae41123cfeed375e618a4152c9bbd0d6d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae41123cfeed375e618a4152c9bbd0d6d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FLAGS__GROUP.html#gae41123cfeed375e618a4152c9bbd0d6d">TINY_FLAG_READ_ALL</a>&#160;&#160;&#160;(1)</td></tr>
<tr class="memdesc:gae41123cfeed375e618a4152c9bbd0d6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This flag makes tiny_read function to read whole frame event if it doesn't fit the buffer. <br /></td></tr>
<tr class="separator:gae41123cfeed375e618a4152c9bbd0d6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a34267804581c5709d03f52d232b307"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3a34267804581c5709d03f52d232b307"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FLAGS__GROUP.html#ga3a34267804581c5709d03f52d232b307">TINY_FLAG_WAIT_FOREVER</a>&#160;&#160;&#160;(0x80)</td></tr>
<tr class="memdesc:ga3a34267804581c5709d03f52d232b307"><td class="mdescLeft">&#160;</td><td class="mdescRight">This flag makes tiny API functions perform in blocking mode. <br /></td></tr>
<tr class="separator:ga3a34267804581c5709d03f52d232b307"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a7f69e669de5baa69a43ee5cb439a7496"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inc_2tiny__layer2_8h.html#a7f69e669de5baa69a43ee5cb439a7496">write_block_cb_t</a>) (void *pdata, const uint8_t *buffer, int size)</td></tr>
<tr class="separator:a7f69e669de5baa69a43ee5cb439a7496"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3d867e030f59de94508902f2b84a7ec"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inc_2tiny__layer2_8h.html#ae3d867e030f59de94508902f2b84a7ec">read_block_cb_t</a>) (void *pdata, uint8_t *buffer, int size)</td></tr>
<tr class="separator:ae3d867e030f59de94508902f2b84a7ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf94db3677aab46f4a42978d53cc23e3"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inc_2tiny__layer2_8h.html#acf94db3677aab46f4a42978d53cc23e3">on_frame_cb_t</a>) (void *handle, <a class="el" href="src_2arduino_2src_2proto_2tiny__layer2_8h.html#af5f6894a8940157d2d5e659bbe2aafa3">ETinyFrameDirection</a> direction, uint8_t *pdata, int size)</td></tr>
<tr class="separator:acf94db3677aab46f4a42978d53cc23e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:af5f6894a8940157d2d5e659bbe2aafa3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inc_2tiny__layer2_8h.html#af5f6894a8940157d2d5e659bbe2aafa3">ETinyFrameDirection</a> { <b>TINY_FRAME_TX</b>, 
<b>TINY_FRAME_RX</b>, 
<b>TINY_FRAME_TX</b>, 
<b>TINY_FRAME_RX</b>
 }</td></tr>
<tr class="separator:af5f6894a8940157d2d5e659bbe2aafa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab9bfaed3c75551c8b7f3f8b25e766546"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inc_2tiny__layer2_8h.html#ab9bfaed3c75551c8b7f3f8b25e766546">tiny_init</a> (<a class="el" href="structSTinyData.html">STinyData</a> *handle, <a class="el" href="inc_2tiny__layer2_8h.html#a7f69e669de5baa69a43ee5cb439a7496">write_block_cb_t</a> write_func, <a class="el" href="inc_2tiny__layer2_8h.html#ae3d867e030f59de94508902f2b84a7ec">read_block_cb_t</a> read_func, void *pdata)</td></tr>
<tr class="separator:ab9bfaed3c75551c8b7f3f8b25e766546"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48cf9ffab9eeb9665e61ae69e28938b8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inc_2tiny__layer2_8h.html#a48cf9ffab9eeb9665e61ae69e28938b8">tiny_close</a> (<a class="el" href="structSTinyData.html">STinyData</a> *handle)</td></tr>
<tr class="separator:a48cf9ffab9eeb9665e61ae69e28938b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e66725a2818491d4e2b1134951d9229"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inc_2tiny__layer2_8h.html#a5e66725a2818491d4e2b1134951d9229">tiny_set_fcs_bits</a> (<a class="el" href="structSTinyData.html">STinyData</a> *handle, uint8_t bits)</td></tr>
<tr class="separator:a5e66725a2818491d4e2b1134951d9229"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a988a41addbe75dc15cc13006de6740e0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inc_2tiny__layer2_8h.html#a988a41addbe75dc15cc13006de6740e0">tiny_send</a> (<a class="el" href="structSTinyData.html">STinyData</a> *handle, uint16_t *uid, uint8_t *pbuf, int len, uint8_t flags)</td></tr>
<tr class="separator:a988a41addbe75dc15cc13006de6740e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a470d59a60a496944e63031ba43a00e3d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inc_2tiny__layer2_8h.html#a470d59a60a496944e63031ba43a00e3d">tiny_read</a> (<a class="el" href="structSTinyData.html">STinyData</a> *handle, uint16_t *uid, uint8_t *pbuf, int len, uint8_t flags)</td></tr>
<tr class="separator:a470d59a60a496944e63031ba43a00e3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f61774b2027a91f772f31d943acdd3f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inc_2tiny__layer2_8h.html#a5f61774b2027a91f772f31d943acdd3f">tiny_get_stat</a> (<a class="el" href="structSTinyData.html">STinyData</a> *handle, <a class="el" href="structSTinyStats.html">STinyStats</a> *stat)</td></tr>
<tr class="separator:a5f61774b2027a91f772f31d943acdd3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac75ee03ea3691b0a8bf842d764b342d9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inc_2tiny__layer2_8h.html#ac75ee03ea3691b0a8bf842d764b342d9">tiny_clear_stat</a> (<a class="el" href="structSTinyData.html">STinyData</a> *handle)</td></tr>
<tr class="separator:ac75ee03ea3691b0a8bf842d764b342d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac562103dd1699b82fddf29dccdc0ec7c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inc_2tiny__layer2_8h.html#ac562103dd1699b82fddf29dccdc0ec7c">tiny_set_callbacks</a> (<a class="el" href="structSTinyData.html">STinyData</a> *handle, <a class="el" href="inc_2tiny__layer2_8h.html#acf94db3677aab46f4a42978d53cc23e3">on_frame_cb_t</a> read_cb, <a class="el" href="inc_2tiny__layer2_8h.html#acf94db3677aab46f4a42978d53cc23e3">on_frame_cb_t</a> send_cb)</td></tr>
<tr class="separator:ac562103dd1699b82fddf29dccdc0ec7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Tiny protocol API. </p>
<p>This is Tiny protocol implementation for microcontrollers </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="acf94db3677aab46f4a42978d53cc23e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* on_frame_cb_t) (void *handle, <a class="el" href="src_2arduino_2src_2proto_2tiny__layer2_8h.html#af5f6894a8940157d2d5e659bbe2aafa3">ETinyFrameDirection</a> direction, uint8_t *pdata, int size)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>on_frame_cb_t is a function to callback data going through Tiny level. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>- handle of Tiny. </td></tr>
    <tr><td class="paramname">direction</td><td>- frame is sent or received. </td></tr>
    <tr><td class="paramname">pdata</td><td>- data sent or received over Tiny. </td></tr>
    <tr><td class="paramname">size</td><td>- size of data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="ae3d867e030f59de94508902f2b84a7ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* read_block_cb_t) (void *pdata, uint8_t *buffer, int size)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function reads data from communication channel. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pdata</td><td>- pointer to user private data. - absent in Arduino version </td></tr>
    <tr><td class="paramname">buffer</td><td>- pointer to a buffer to read data to from the channel. </td></tr>
    <tr><td class="paramname">size</td><td>- maximum size of the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="src_2arduino_2src_2proto_2tiny__layer2_8h.html#a7f69e669de5baa69a43ee5cb439a7496">write_block_cb_t</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>the function must return negative value in case of error or number of bytes actually read or zero. </dd></dl>

</div>
</div>
<a class="anchor" id="a7f69e669de5baa69a43ee5cb439a7496"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* write_block_cb_t) (void *pdata, const uint8_t *buffer, int size)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function writes data to communication channel port. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pdata</td><td>- pointer to user private data - absent in Arduino version </td></tr>
    <tr><td class="paramname">buffer</td><td>- pointer to the data to send to channel. </td></tr>
    <tr><td class="paramname">size</td><td>- size of data to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="src_2arduino_2src_2proto_2tiny__layer2_8h.html#ae3d867e030f59de94508902f2b84a7ec">read_block_cb_t</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>the function must return negative value in case of error or number of bytes written or zero. </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="af5f6894a8940157d2d5e659bbe2aafa3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="src_2arduino_2src_2proto_2tiny__layer2_8h.html#af5f6894a8940157d2d5e659bbe2aafa3">ETinyFrameDirection</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enum is used for callback functions to specify direction of the frame, processed by the protocol. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ac75ee03ea3691b0a8bf842d764b342d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tiny_clear_stat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSTinyData.html">STinyData</a> *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function clears Tiny statistics. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>- pointer to Tiny data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__ERROR__FLAGS.html#ga541a9e67a84e39595ad647d641c4df2e" title="Some invalid data passed to Tiny API function. ">TINY_ERR_INVALID_DATA</a> </dd>
<dd>
<a class="el" href="group__ERROR__FLAGS.html#ga69c869a686b67bf0b7b8115599515d61" title="No error. For tiny_send and tiny_read functions, this means, no data sent or received. ">TINY_NO_ERROR</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>TINY_ERR_INVALID_DATA, TINY_NO_ERROR.</dd></dl>
<p>tiny_clear_stat function clears Tiny protocol statistics. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>- pointer to Tiny protocol structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__ERROR__FLAGS.html#ga541a9e67a84e39595ad647d641c4df2e" title="Some invalid data passed to Tiny API function. ">TINY_ERR_INVALID_DATA</a> </dd>
<dd>
<a class="el" href="group__ERROR__FLAGS.html#ga69c869a686b67bf0b7b8115599515d61" title="No error. For tiny_send and tiny_read functions, this means, no data sent or received. ">TINY_NO_ERROR</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>TINY_ERR_INVALID_DATA, TINY_NO_ERROR. </dd></dl>

</div>
</div>
<a class="anchor" id="a48cf9ffab9eeb9665e61ae69e28938b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tiny_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSTinyData.html">STinyData</a> *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function closes channel. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>- pointer to Tiny data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="src_2arduino_2src_2proto_2tiny__layer2_8h.html#ab9bfaed3c75551c8b7f3f8b25e766546">tiny_init()</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>TINY_ERR_INVALID_DATA, TINY_NO_ERROR. </dd></dl>

</div>
</div>
<a class="anchor" id="a5f61774b2027a91f772f31d943acdd3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tiny_get_stat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSTinyData.html">STinyData</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSTinyStats.html">STinyStats</a> *&#160;</td>
          <td class="paramname"><em>stat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function returns statistics per communication connection. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>- pointer to Tiny data. </td></tr>
    <tr><td class="paramname">stat</td><td>- pointer of stucture to fill. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__ERROR__FLAGS.html#ga541a9e67a84e39595ad647d641c4df2e" title="Some invalid data passed to Tiny API function. ">TINY_ERR_INVALID_DATA</a> </dd>
<dd>
<a class="el" href="group__ERROR__FLAGS.html#ga69c869a686b67bf0b7b8115599515d61" title="No error. For tiny_send and tiny_read functions, this means, no data sent or received. ">TINY_NO_ERROR</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>TINY_ERR_INVALID_DATA, TINY_NO_ERROR. </dd></dl>

</div>
</div>
<a class="anchor" id="ab9bfaed3c75551c8b7f3f8b25e766546"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tiny_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSTinyData.html">STinyData</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="inc_2tiny__layer2_8h.html#a7f69e669de5baa69a43ee5cb439a7496">write_block_cb_t</a>&#160;</td>
          <td class="paramname"><em>write_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="inc_2tiny__layer2_8h.html#ae3d867e030f59de94508902f2b84a7ec">read_block_cb_t</a>&#160;</td>
          <td class="paramname"><em>read_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function initializes internal structures for Tiny channel and return handle to be used with all Tiny and IPC functions. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>- pointer to Tiny data </td></tr>
    <tr><td class="paramname">write_func</td><td>- pointer to write data function (to communication channel). </td></tr>
    <tr><td class="paramname">read_func</td><td>- pointer to read function (from communication channel). </td></tr>
    <tr><td class="paramname">pdata</td><td>- pointer to a user private data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>pdata parameter is not applicable for Arduino and is absent in its version. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="inc_2tiny__layer2_8h.html#a7f69e669de5baa69a43ee5cb439a7496">write_block_cb_t</a> </dd>
<dd>
<a class="el" href="inc_2tiny__layer2_8h.html#ae3d867e030f59de94508902f2b84a7ec">read_block_cb_t</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>TINY_NO_ERROR or error code.</dd></dl>
<p>The function initializes internal structures for Tiny channel and return handle to be used with all Tiny and IPC functions. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>- pointer to Tiny data </td></tr>
    <tr><td class="paramname">write_func</td><td>- pointer to write data function (to communication channel). </td></tr>
    <tr><td class="paramname">read_func</td><td>- pointer to read function (from communication channel). </td></tr>
    <tr><td class="paramname">pdata</td><td>- pointer to a user private data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="inc_2tiny__layer2_8h.html#a7f69e669de5baa69a43ee5cb439a7496">write_block_cb_t</a> </dd>
<dd>
<a class="el" href="inc_2tiny__layer2_8h.html#ae3d867e030f59de94508902f2b84a7ec">read_block_cb_t</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>TINY_NO_ERROR or error code. </dd></dl>

</div>
</div>
<a class="anchor" id="a470d59a60a496944e63031ba43a00e3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tiny_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSTinyData.html">STinyData</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function reads data from communication channel frame format: 0x7E, data..., FCS, 0x7E. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>- pointer to Tiny data. </td></tr>
    <tr><td class="paramname">uid</td><td>- pointer to 16-bit uid variable to fill with packet info, can be NULL. </td></tr>
    <tr><td class="paramname">pbuf</td><td>a const pointer to unsigned char - buffer with data to send </td></tr>
    <tr><td class="paramname">len</td><td>an integer argument - length of data to send </td></tr>
    <tr><td class="paramname">flags</td><td>- TINY_FLAG_NO_WAIT </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__ERROR__FLAGS.html#ga541a9e67a84e39595ad647d641c4df2e" title="Some invalid data passed to Tiny API function. ">TINY_ERR_INVALID_DATA</a> </dd>
<dd>
<a class="el" href="group__ERROR__FLAGS.html#ga84e6ca143550038e1a71cf36078d1926" title="Timeout. ">TINY_ERR_FAILED</a> </dd>
<dd>
<a class="el" href="group__ERROR__FLAGS.html#ga7bbe7440d11ad304b0af68e011f4eab7" title="Data too large to fit the user buffer, valid for tiny_read function. ">TINY_ERR_DATA_TOO_LARGE</a> </dd>
<dd>
<a class="el" href="group__ERROR__FLAGS.html#gae1949de45d9c478830dad9c9b996193a" title="Out of sync - received some data, which are not part of the frame (tiny_read) ">TINY_ERR_OUT_OF_SYNC</a> </dd>
<dd>
<a class="el" href="group__ERROR__FLAGS.html#ga9b3e170e1c6ce269f216ef4a1ac61995" title="API function detected that operation cannot be performed right now. ">TINY_ERR_BUSY</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>TINY_ERR_INVALID_DATA, TINY_ERR_FAILED or number of sent bytes. </dd></dl>

</div>
</div>
<a class="anchor" id="a988a41addbe75dc15cc13006de6740e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tiny_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSTinyData.html">STinyData</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function sends data to communication channel in the following frame format: 0x7E, data..., FCS, 0x7E. </p><dl class="section note"><dt>Note</dt><dd>if flags field is set to TINY_FLAG_NO_WAIT, then this function may remember pbuf pointer and return immediately. So, it is responsibility of the caller to make pbuf data to be available all the time until frame is sent. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>- pointer to Tiny data. </td></tr>
    <tr><td class="paramname">uid</td><td>- pointer to 16-bit variable containing packet uid, can be NULL. uid value must be spelled in network order bytes. </td></tr>
    <tr><td class="paramname">pbuf</td><td>- a const pointer to unsigned char - buffer with data to send </td></tr>
    <tr><td class="paramname">len</td><td>- an integer argument - length of data to send </td></tr>
    <tr><td class="paramname">flags</td><td>- TINY_FLAG_NO_WAIT </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__ERROR__FLAGS.html#ga541a9e67a84e39595ad647d641c4df2e" title="Some invalid data passed to Tiny API function. ">TINY_ERR_INVALID_DATA</a> </dd>
<dd>
<a class="el" href="group__ERROR__FLAGS.html#ga84e6ca143550038e1a71cf36078d1926" title="Timeout. ">TINY_ERR_FAILED</a> </dd>
<dd>
<a class="el" href="group__FLAGS__GROUP.html#gadadd60eb21d7949e6d097ad36aab9b2e" title="This flag makes tiny API functions perform as non-blocking. ">TINY_FLAG_NO_WAIT</a> </dd>
<dd>
<a class="el" href="group__FLAGS__GROUP.html#ga3a34267804581c5709d03f52d232b307" title="This flag makes tiny API functions perform in blocking mode. ">TINY_FLAG_WAIT_FOREVER</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>TINY_ERR_INVALID_DATA, TINY_ERR_FAILED or number of sent bytes.</dd></dl>
<p>Returns negative value in case of error length of sent data </p>

</div>
</div>
<a class="anchor" id="ac562103dd1699b82fddf29dccdc0ec7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tiny_set_callbacks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSTinyData.html">STinyData</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="inc_2tiny__layer2_8h.html#acf94db3677aab46f4a42978d53cc23e3">on_frame_cb_t</a>&#160;</td>
          <td class="paramname"><em>read_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="inc_2tiny__layer2_8h.html#acf94db3677aab46f4a42978d53cc23e3">on_frame_cb_t</a>&#160;</td>
          <td class="paramname"><em>send_cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function sets callback procs for specified Tiny channel. callbacks will receive all data being sent or received. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>- pointer to Tiny data. </td></tr>
    <tr><td class="paramname">read_cb</td><td>- pointer to callback function. </td></tr>
    <tr><td class="paramname">send_cb</td><td>- pointer to callback function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TINY_ERR_INVALID_DATA, TINY_NO_ERROR.</dd></dl>
<p>tiny_set_callbacks sets callback procs for specified Tiny protocol. callbacks will receive all data being sent or received. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>- pointer to Tiny Protocol structure </td></tr>
    <tr><td class="paramname">read_cb</td><td>- an argument of on_frame_cb_t type - pointer to callback function. </td></tr>
    <tr><td class="paramname">send_cb</td><td>- an argument of on_frame_cb_t type - pointer to callback function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TINY_ERR_INVALID_DATA, TINY_NO_ERROR. </dd></dl>

</div>
</div>
<a class="anchor" id="a5e66725a2818491d4e2b1134951d9229"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tiny_set_fcs_bits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSTinyData.html">STinyData</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function sets number of bits used for fcs </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>- pointer to Tiny structure </td></tr>
    <tr><td class="paramname">bits</td><td>- number of bits to use for fcs: 16 or 32. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TINY_ERR_FAILED TINY_NO_ERROR </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
