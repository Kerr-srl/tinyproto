\hypertarget{classTiny_1_1ProtoHd}{}\section{Tiny\+:\+:Proto\+Hd Class Reference}
\label{classTiny_1_1ProtoHd}\index{Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}}


{\ttfamily \#include $<$Tiny\+Protocol\+Hd.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classTiny_1_1ProtoHd_a1a55191980c259f2c760997d9c07cb48}{Proto\+Hd} (void $\ast$buffer, int buffer\+Size, void($\ast$on\+Receive)(uint8\+\_\+t $\ast$buf, int len))
\item 
void \hyperlink{classTiny_1_1ProtoHd_a112ae02531837a852af7ca3c9a32a7eb}{begin} (write\+\_\+block\+\_\+cb\+\_\+t writecb, read\+\_\+block\+\_\+cb\+\_\+t readcb)
\item 
void \hyperlink{classTiny_1_1ProtoHd_a0e88ac5b3c67ca67c566742c22180050}{begin\+To\+Serial} ()
\item 
void \hyperlink{classTiny_1_1ProtoHd_a1b2975217b0523c3de4b534644cfa501}{begin\+To\+Serial1} ()
\item 
void \hyperlink{classTiny_1_1ProtoHd_a450fc792e515ffd150072988bc632c9e}{begin\+To\+Serial2} ()
\item 
void \hyperlink{classTiny_1_1ProtoHd_acd6519f6652c279b3a3b98aabbaeed65}{begin\+To\+Serial3} ()
\item 
void \hyperlink{classTiny_1_1ProtoHd_ac87bf8264895b654025001a0e6014f3f}{end} ()
\item 
int \hyperlink{classTiny_1_1ProtoHd_af53c8817317d3a62535e68ca236a038f}{write} (char $\ast$buf, int size)
\item 
int \hyperlink{classTiny_1_1ProtoHd_abffb26e95006c4e09e79f27f6ec4cdfe}{write} (\hyperlink{classTiny_1_1Packet}{Packet} \&pkt)
\item 
int \hyperlink{classTiny_1_1ProtoHd_af07b1f5d0df3021e00a4b4f04af4150b}{run} ()
\item 
void \hyperlink{classTiny_1_1ProtoHd_ae90a0a40de0b71a015f7f7f940440fa0}{disable\+Crc} ()
\item 
bool \hyperlink{classTiny_1_1ProtoHd_ace4e6b993532b3eb47d025b8db94192d}{enable\+Check\+Sum} ()
\item 
bool \hyperlink{classTiny_1_1ProtoHd_a0887adedc93b7538dbaef3fc8e0b2819}{enable\+Crc16} ()
\item 
bool \hyperlink{classTiny_1_1ProtoHd_a4110a0112548d5e47d312d190930ad20}{enable\+Crc32} ()
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{classTiny_1_1ProtoHd}{Proto\+Hd} class incapsulates Half Duplex Protocol functionality. Half Duplex version of the Protocol allows to send messages with confirmation. Remember that you may use always C-\/style A\+P\+I functions instead C++. Please refer to documentation. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classTiny_1_1ProtoHd_a1a55191980c259f2c760997d9c07cb48}{}\index{Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}!Proto\+Hd@{Proto\+Hd}}
\index{Proto\+Hd@{Proto\+Hd}!Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}}
\subsubsection[{Proto\+Hd}]{\setlength{\rightskip}{0pt plus 5cm}Tiny\+::\+Proto\+Hd\+::\+Proto\+Hd (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{buffer, }
\item[{int}]{buffer\+Size, }
\item[{void($\ast$)(uint8\+\_\+t $\ast$buf, int len)}]{on\+Receive}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classTiny_1_1ProtoHd_a1a55191980c259f2c760997d9c07cb48}
Initializes \hyperlink{classTiny_1_1ProtoHd}{Proto\+Hd} object 
\begin{DoxyParams}{Parameters}
{\em buffer} & -\/ buffer to store the frames being received. \\
\hline
{\em buffer\+Size} & -\/ size of the buffer \\
\hline
{\em on\+Receive} & -\/ callback to call when the frame is received completely. \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\hypertarget{classTiny_1_1ProtoHd_a112ae02531837a852af7ca3c9a32a7eb}{}\index{Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}!begin@{begin}}
\index{begin@{begin}!Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}}
\subsubsection[{begin}]{\setlength{\rightskip}{0pt plus 5cm}void Tiny\+::\+Proto\+Hd\+::begin (
\begin{DoxyParamCaption}
\item[{write\+\_\+block\+\_\+cb\+\_\+t}]{writecb, }
\item[{read\+\_\+block\+\_\+cb\+\_\+t}]{readcb}
\end{DoxyParamCaption}
)}\label{classTiny_1_1ProtoHd_a112ae02531837a852af7ca3c9a32a7eb}
Initializes protocol internal variables. If you need to switch communication with other destination point, you can call this method one again after calling \hyperlink{classTiny_1_1ProtoHd_ac87bf8264895b654025001a0e6014f3f}{end()}. 
\begin{DoxyParams}{Parameters}
{\em writecb} & -\/ write function to some physical channel \\
\hline
{\em readcb} & -\/ read function from some physical channel \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}
\hypertarget{classTiny_1_1ProtoHd_a0e88ac5b3c67ca67c566742c22180050}{}\index{Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}!begin\+To\+Serial@{begin\+To\+Serial}}
\index{begin\+To\+Serial@{begin\+To\+Serial}!Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}}
\subsubsection[{begin\+To\+Serial}]{\setlength{\rightskip}{0pt plus 5cm}void Tiny\+::\+Proto\+Hd\+::begin\+To\+Serial (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classTiny_1_1ProtoHd_a0e88ac5b3c67ca67c566742c22180050}
Initializes protocol internal variables and redirects communication through Arduino Serial connection (Serial). \begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}
\hypertarget{classTiny_1_1ProtoHd_a1b2975217b0523c3de4b534644cfa501}{}\index{Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}!begin\+To\+Serial1@{begin\+To\+Serial1}}
\index{begin\+To\+Serial1@{begin\+To\+Serial1}!Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}}
\subsubsection[{begin\+To\+Serial1}]{\setlength{\rightskip}{0pt plus 5cm}void Tiny\+::\+Proto\+Hd\+::begin\+To\+Serial1 (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classTiny_1_1ProtoHd_a1b2975217b0523c3de4b534644cfa501}
Initializes protocol internal variables and redirects communication through Arduino Serial1 connection (Serial1). \begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}
\hypertarget{classTiny_1_1ProtoHd_a450fc792e515ffd150072988bc632c9e}{}\index{Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}!begin\+To\+Serial2@{begin\+To\+Serial2}}
\index{begin\+To\+Serial2@{begin\+To\+Serial2}!Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}}
\subsubsection[{begin\+To\+Serial2}]{\setlength{\rightskip}{0pt plus 5cm}void Tiny\+::\+Proto\+Hd\+::begin\+To\+Serial2 (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classTiny_1_1ProtoHd_a450fc792e515ffd150072988bc632c9e}
Initializes protocol internal variables and redirects communication through Arduino Serial2 connection (Serial2). \begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}
\hypertarget{classTiny_1_1ProtoHd_acd6519f6652c279b3a3b98aabbaeed65}{}\index{Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}!begin\+To\+Serial3@{begin\+To\+Serial3}}
\index{begin\+To\+Serial3@{begin\+To\+Serial3}!Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}}
\subsubsection[{begin\+To\+Serial3}]{\setlength{\rightskip}{0pt plus 5cm}void Tiny\+::\+Proto\+Hd\+::begin\+To\+Serial3 (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classTiny_1_1ProtoHd_acd6519f6652c279b3a3b98aabbaeed65}
Initializes protocol internal variables and redirects communication through Arduino Serial3 connection (Serial3). \begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}
\hypertarget{classTiny_1_1ProtoHd_ae90a0a40de0b71a015f7f7f940440fa0}{}\index{Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}!disable\+Crc@{disable\+Crc}}
\index{disable\+Crc@{disable\+Crc}!Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}}
\subsubsection[{disable\+Crc}]{\setlength{\rightskip}{0pt plus 5cm}void Tiny\+::\+Proto\+Hd\+::disable\+Crc (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classTiny_1_1ProtoHd_ae90a0a40de0b71a015f7f7f940440fa0}
Disable C\+R\+C field in the protocol. If C\+R\+C field is O\+F\+F, then the frame looks like this\+: 0x7\+E databytes 0x7\+E. \hypertarget{classTiny_1_1ProtoHd_ace4e6b993532b3eb47d025b8db94192d}{}\index{Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}!enable\+Check\+Sum@{enable\+Check\+Sum}}
\index{enable\+Check\+Sum@{enable\+Check\+Sum}!Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}}
\subsubsection[{enable\+Check\+Sum}]{\setlength{\rightskip}{0pt plus 5cm}bool Tiny\+::\+Proto\+Hd\+::enable\+Check\+Sum (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classTiny_1_1ProtoHd_ace4e6b993532b3eb47d025b8db94192d}
Enables C\+R\+C 8-\/bit field in the protocol. This field contains sum of all data bytes in the packet. 8-\/bit field is supported by Nano version of Tiny library. \begin{DoxyReturn}{Returns}
true if successful false in case of error. 
\end{DoxyReturn}
\hypertarget{classTiny_1_1ProtoHd_a0887adedc93b7538dbaef3fc8e0b2819}{}\index{Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}!enable\+Crc16@{enable\+Crc16}}
\index{enable\+Crc16@{enable\+Crc16}!Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}}
\subsubsection[{enable\+Crc16}]{\setlength{\rightskip}{0pt plus 5cm}bool Tiny\+::\+Proto\+Hd\+::enable\+Crc16 (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classTiny_1_1ProtoHd_a0887adedc93b7538dbaef3fc8e0b2819}
Enables C\+R\+C 16-\/bit field in the protocol. This field contains F\+C\+S 16-\/bit C\+C\+I\+T\+T like defined in R\+F\+C 1662. 16-\/bit field is not supported by Nano version of Tiny library. \begin{DoxyReturn}{Returns}
true if successful false in case of error. 
\end{DoxyReturn}
\hypertarget{classTiny_1_1ProtoHd_a4110a0112548d5e47d312d190930ad20}{}\index{Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}!enable\+Crc32@{enable\+Crc32}}
\index{enable\+Crc32@{enable\+Crc32}!Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}}
\subsubsection[{enable\+Crc32}]{\setlength{\rightskip}{0pt plus 5cm}bool Tiny\+::\+Proto\+Hd\+::enable\+Crc32 (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classTiny_1_1ProtoHd_a4110a0112548d5e47d312d190930ad20}
Enables C\+R\+C 32-\/bit field in the protocol. This field contains F\+C\+S 32-\/bit C\+C\+I\+T\+T like defined in R\+F\+C 1662. 32-\/bit field is not supported by Nano version of Tiny library. \begin{DoxyReturn}{Returns}
true if successful false in case of error. 
\end{DoxyReturn}
\hypertarget{classTiny_1_1ProtoHd_ac87bf8264895b654025001a0e6014f3f}{}\index{Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}!end@{end}}
\index{end@{end}!Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}}
\subsubsection[{end}]{\setlength{\rightskip}{0pt plus 5cm}void Tiny\+::\+Proto\+Hd\+::end (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classTiny_1_1ProtoHd_ac87bf8264895b654025001a0e6014f3f}
Resets protocol state. \hypertarget{classTiny_1_1ProtoHd_af07b1f5d0df3021e00a4b4f04af4150b}{}\index{Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}!run@{run}}
\index{run@{run}!Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}}
\subsubsection[{run}]{\setlength{\rightskip}{0pt plus 5cm}int Tiny\+::\+Proto\+Hd\+::run (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classTiny_1_1ProtoHd_af07b1f5d0df3021e00a4b4f04af4150b}
Checks communcation channel for incoming messages. \begin{DoxyReturn}{Returns}
negative value in case of error zero if nothing is read positive -\/ \hyperlink{classTiny_1_1Packet}{Packet} is successfully received 
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
if \hyperlink{classTiny_1_1Packet}{Packet} is receive during run execution callback is called. 
\end{DoxyRemark}
\hypertarget{classTiny_1_1ProtoHd_af53c8817317d3a62535e68ca236a038f}{}\index{Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}!write@{write}}
\index{write@{write}!Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}}
\subsubsection[{write}]{\setlength{\rightskip}{0pt plus 5cm}int Tiny\+::\+Proto\+Hd\+::write (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{buf, }
\item[{int}]{size}
\end{DoxyParamCaption}
)}\label{classTiny_1_1ProtoHd_af53c8817317d3a62535e68ca236a038f}
Sends data block over communication channel. 
\begin{DoxyParams}{Parameters}
{\em buf} & -\/ data to send \\
\hline
{\em size} & -\/ length of the data in bytes \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
negative value in case of error zero if nothing is sent positive -\/ should be equal to size parameter 
\end{DoxyReturn}
\hypertarget{classTiny_1_1ProtoHd_abffb26e95006c4e09e79f27f6ec4cdfe}{}\index{Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}!write@{write}}
\index{write@{write}!Tiny\+::\+Proto\+Hd@{Tiny\+::\+Proto\+Hd}}
\subsubsection[{write}]{\setlength{\rightskip}{0pt plus 5cm}int Tiny\+::\+Proto\+Hd\+::write (
\begin{DoxyParamCaption}
\item[{{\bf Packet} \&}]{pkt}
\end{DoxyParamCaption}
)}\label{classTiny_1_1ProtoHd_abffb26e95006c4e09e79f27f6ec4cdfe}
Sends packet over communication channel. 
\begin{DoxyParams}{Parameters}
{\em pkt} & -\/ \hyperlink{classTiny_1_1Packet}{Packet} to send \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{classTiny_1_1Packet}{Packet} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
negative value in case of error zero if nothing is sent positive -\/ \hyperlink{classTiny_1_1Packet}{Packet} is successfully sent 
\end{DoxyReturn}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/arduino/src/\hyperlink{TinyProtocolHd_8h}{Tiny\+Protocol\+Hd.\+h}\end{DoxyCompactItemize}
